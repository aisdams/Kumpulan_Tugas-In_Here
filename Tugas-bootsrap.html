<!DOCTYPE html>

<html>

<head>

  <title>Tugas Data</title>

      <!-- Required meta tags -->

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</head >


<body>

    <style type="text/css">

      h1{

        text-align: center;

        margin: 50px;

        color:white;

        background: blue;

        width: 55%;

        padding: 10px;

        border-radius: 10px;

      }

      form{

        width: 800px;

      }

    </style>
<div class="container">

    <h1 class="bg-light py-4 text-info" >
        Data Siswa/Siswi
      </h1>
  <form>
    
    <div class="form-group">

      <label>Nama Siswa:</label>
      <input type="text" class="form-control" name="name" required="">
      

    </div>
    <div class="form-group">

      <label>Umur:</label>
      <input type="date" class="form-control" name="umur" required="">
      

    </div>

    <div class="form-group">

      <label class="mt-1">Kelas:</label>

      <div class="w-100">
          <div class="w-100">
          <select type="kelas" name="kelas" class="form-control m-0" autocomplete="off" placeholder="Kelas">
            <option value="choose" >Click Here Kelas</option>
            <option value="SD">SD</option>
            <option value="SMP">SMP</option>
            <option value="SMA/SMK">SMA/SMK</option>
            <option value="D3">D3</option>
            <option value="D2">D2</option>
            <option value="D1">D1</option>
            <option value="S1">S1</option>
            <option value="S2">S2</option>
            <option value="S3">S3</option>
          </select>
        </div>
        </div>
    </div>
    <div class="form-group">
      <div class="w-100">
  <label>Email:</label>
  <input type="email" class="form-control" name="email"  placeholder="your email..." required="">
</div>

<div class="form-group mt-2">
<label for="city" class="form-label">City</label>
<input class="form-control" list="datalistOptions" id="city" type="city" name="city" placeholder="Click To Memilih City...">
<datalist id="datalistOptions">
  <option value="Sumatra">
  <option value="Bali dan Nusa Tenggara">
  <option value="Jawa">
  <option value="Sulawesi">
  <option value="Kalimantan">
  <option value="Maluku dan Papua">
  <option value="Dan Lain-Lain">
</datalist>
    <div class="form-group mt-2">

        <label>Alamat:</label>
        <textarea class="form-control" name="alamat" rows="2" type="text"></textarea>
      </div>
    <button type="submit" class="btn btn-success btn-save mt-4" onclick="myalert()">Simpan</button>
    

  </form><br>

  <table class="table table-bordered data-table mt-4">
    <thead class="thead-dark">

      <th>Name</th>

      <th>Umur</th>

      <th>kelas</th>

      <th>email</th>

      <th>city</th>

      <th>alamat</th>

      <th>Action</th>

    </thead>

    <tbody>

     

    </tbody>

  </table>

</div>

   <script type="text/javascript">

        function myalert() { 
            alert("Selamat Data Anda telah Ditambahkan !"); 
        } 
        function edit() { 
            alert("Data Anda Telah Di Update !"); 
        } 

        function konfirmasi(){
         var tanya = confirm("Apakah Anda Akan Menghapus Data Ini ?");
 
         if(tanya == true) {
            pesan = "Ya";
         }else{
            pesan = "Tidak";
         }
        }
        
    $("form").submit(function(e) {

      e.preventDefault();

      var name=$("input[name='name']").val();

      var umur=$("input[name='umur']").val();

      var kelas=$("select[name='kelas']").val();

      var email=$("input[name='email']").val();

      var city=$("input[name='city']").val();

      var alamat=$("textarea[name='alamat']").val();


       $(".data-table tbody").append("<tr data-name='"+name+" ' data-umur='"+umur+"' ' data-kelas='"+kelas+"' ' data-email='"+email+"' data-city='"+city+"''data-alamat='"+alamat+"'><td>"+name+"</td><td>"+umur+"</td><td>"+kelas+"</td><td>"+email+"</td><td>"+city+"</td><td>"+alamat+"</td><td><button class='btn btn-danger btn-lg btn-delete mr-3' type='button' onclick='konfirmasi()'>Delete </button><button class='btn btn-info btn-lg btn-edit' type='button'>Edit</button></td></tr>");

       $("input[name='']").val("");

    });

    $('body').on('click','.btn-delete',function() {

      $(this).parents('tr').remove();

    });

    $('body').on('click','.btn-edit',function() {

      var name=$(this).parents('tr').attr('data-name');

      var umur=$(this).parents('tr').attr('data-umur');

      var kelas=$(this).parents('tr').attr('data-kelas');

      var email=$(this).parents('tr').attr('data-email');

      var city=$(this).parents('tr').attr('data-city');

      var alamat=$(this).parents('tr').attr('data-alamat');

      $(this).parents('tr').find('td:eq(0)').html("<input name='edit_text' value='"+name+"'>");

      $(this).parents('tr').find('td:eq(1)').html("<input name='edit_date' value='"+umur+"'>");

      $(this).parents('tr').find('td:eq(2)').html("<input name='edit_kelas' value='"+kelas+"' >");

      $(this).parents('tr').find('td:eq(3)').html("<input name='edit_email' value='"+email+"' >");

      $(this).parents('tr').find('td:eq(4)').html("<input name='edit_city' value='"+city+"' >");

      $(this).parents('tr').find('td:eq(5)').html("<textarea name='edit_text' value='"+alamat+"' >");

      $(this).parents('tr').find('td:eq(6)').prepend("<button type='button' class='btn btn-info btn-lg btn-update mr-3' onclick='edit()'>Update</button>");

      $(this).hide()

    });

    $('body').on('click','.btn-update',function() {

      var name=$(this).parents('tr').find("input[name='edit_text']").val();

      var umur=$(this).parents('tr').find("input[name='edit_date']").val();

      var kelas=$(this).parents('tr').find("input[name='edit_kelas']").val();

      var email=$(this).parents('tr').find("input[name='edit_email']").val();

      var city=$(this).parents('tr').find("input[name='edit_city']").val();

      var alamat=$(this).parents('tr').find("textarea[name='edit_text']").val();

      $(this).parents('tr').find('td:eq(0)').text(name);

      $(this).parents('tr').find('td:eq(1)').text(umur);

      $(this).parents('tr').find('td:eq(2)').text(kelas);

      $(this).parents('tr').find('td:eq(3)').text(email);

      $(this).parents('tr').find('td:eq(4)').text(city);

      $(this).parents('tr').find('td:eq(5)').text(alamat);

      $(this).parents('tr').attr('data-name',name);

      $(this).parents('tr').attr('data-umur',umur);

      $(this).parents('tr').attr('data-kelas',kelas);

      $(this).parents('tr').attr('data-email',email);

      $(this).parents('tr').attr('data-city',city);

      $(this).parents('tr').attr('data-alamat',alamat);

      $(this).parents('tr').find('.btn-edit').show();

      $(this).parents('tr').find('.btn-update').remove();

    })

   </script>

</body>

</html>
